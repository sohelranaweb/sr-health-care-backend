model User {
        id                 String     @id @default(uuid())
        email              String     @unique
        password           String
        role               UserRole   @default(PATIENT)
        needPasswordChange Boolean    @default(true)
        status             UserStatus @default(ACTIVE)
        createdAt          DateTime   @default(now())
        updatedAt          DateTime   @updatedAt
        admin              Admin?
        doctor             Doctor?
        patient            Patient?
        authLogs           AuthLog[]

        @@map("users")
}

model Admin {
        id            String  @id @default(uuid())
        name          String
        email         String  @unique
        profilePhoto  String?
        contactNumber String
        isDeleted     Boolean @default(false)

        createdAt DateTime @default(now())
        updatedAt DateTime @updatedAt

        user User @relation(fields: [email], references: [email])

        @@map("admins")
}

model Doctor {
        id                  String              @id @default(uuid())
        name                String
        email               String              @unique
        profilePhoto        String?
        contactNumber       String
        address             String?
        registrationNumber  String
        experience          Int                 @default(0)
        gender              Gender
        appointmentFee      Int
        qualification       String
        currentWorkingPlace String
        designation         String
        isDeleted           Boolean             @default(false)
        averageRating       Float               @default(0.0)
        createdAt           DateTime            @default(now())
        updatedAt           DateTime            @updatedAt
        user                User                @relation(fields: [email], references: [email])
        doctorSpecialties   DoctorSpecialties[]
        doctorSchedules     DoctorSchedules[]
        appointment         Appointment[]
        prescription        Prescription[]
        review              Review[]

        @@map("doctors")
}

model Patient {
        id            String  @id @default(uuid())
        email         String  @unique
        name          String
        profilePhoto  String?
        contactNumber String?
        address       String?
        isDeleted     Boolean @default(false)

        createdAt DateTime @default(now())
        updatedAt DateTime @updatedAt

        user              User               @relation(fields: [email], references: [email])
        appointments      Appointment[]
        prescriptions     Prescription[]
        reviews           Review[]
        patientHealthData PatientHealthData?
        medicalReports    MedicalReport[]

        @@map("patients")
}
